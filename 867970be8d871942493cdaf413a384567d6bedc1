{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c38c4f27_3bd54fef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-10-24T08:48:46Z",
      "side": 1,
      "message": "typo: headless",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5f33b37_de39dd88",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-21T11:26:40Z",
      "side": 1,
      "message": "I\u0027ve build and installed DEB package locally and it worked as expected.\n\nThe Java dependencies were taken from gradle DEB file.",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7264022_9fb1b0d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-21T11:29:16Z",
      "side": 1,
      "message": "Have you also checked on Ubuntu?",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4727f15_be3bed0a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-21T11:33:50Z",
      "side": 1,
      "message": "nope, only on Debian 12.2",
      "parentUuid": "a7264022_9fb1b0d1",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "492d403d_bfc97ac8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-21T11:39:27Z",
      "side": 1,
      "message": "Ubuntu [Lunar and Mantinc](https://packages.ubuntu.com/search?keywords\u003ddefault-jre-headless\u0026searchon\u003dnames\u0026suite\u003dall\u0026section\u003dall) do provide `default-jre-headless` package in version `2:1.17`, so it _should_ work.",
      "parentUuid": "d4727f15_be3bed0a",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2a943eb_7078118e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-21T11:56:44Z",
      "side": 1,
      "message": "We should decide on one fix not two of them. Either this or I937a7a4e8560b should be continued",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "106a3530_6f23dfd7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-21T12:00:35Z",
      "side": 1,
      "message": "I\u0027d prefer that the package installs all of its required dependencies automatically and not fail during the installation process.\n\nThat\u0027s why dependencies exist in the first place!\n\nDon\u0027t mind having this check in two places, especially since the RPM dependencies are not changed and still installing Gerrit will not drag in JRE.",
      "parentUuid": "b2a943eb_7078118e",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b150be5_f46f4840",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-21T12:06:49Z",
      "side": 1,
      "message": "btw. we already declare package dependency on `git` and `su`. Don\u0027t know how why the JRE was missed.",
      "parentUuid": "106a3530_6f23dfd7",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c83a264_795401b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-23T07:07:43Z",
      "side": 1,
      "message": "Have you tried running it on `eclipse-temurine` image?",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87c5c282_2764f8de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-24T13:17:35Z",
      "side": 1,
      "message": "the temurin is a tricky beast. From what I\u0027ve seen it doesn\u0027t install Java as a DEB package, it just comes with it bundled it. This means that having JRE as a deb dependency will prevent it from installing :/",
      "parentUuid": "6c83a264_795401b9",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01780e52_dc2bf9a7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-24T20:19:43Z",
      "side": 1,
      "message": "I am against this move, because of the following reasons:\n- We never enforced a specific JVM package as dependency\n- The JVM could have been already installed in other ways and available: why forcing to be a package at all?\n\nIf the Gerrit admin has basic OS skills, he should be able to install a JVM.\nIf the Gerrit admin does not have basic OS skills, then it is way better for him to use Docker instead.\n\nFeel free to disagree and explain your benefits with this change.\n\nP.S. Our Deb packages aren\u0027t just for Debian, but for any distribution that accept a .deb package for installation.",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1f1c7a7_8dba6c44",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-26T12:56:06Z",
      "side": 1,
      "message": "\u003e I am against this move, because of the following reasons:\n\u003e - We never enforced a specific JVM package as dependency\n\nIf something wasn\u0027t enforced in the past it doesn\u0027t mean that it can\u0027t be in the future. Arguments like this will block any future improvements.\n\n\u003e - The JVM could have been already installed in other ways and available: why forcing to be a package at all?\n\nThe point of packaging systems and dependencies is to give a working environment. All packages that I know of after installing will give you a working system, with a sensible default configuration and up to the point that they will start a daemon if required.\n\nThe packaging system is an improvement over _configure \u0026 make_ scripts that would fail and complain about missing a library or other dependencies, forcing you to manually provide those dependencies one after another.\n\n\u003e If the Gerrit admin has basic OS skills, he should be able to install a JVM.\n\nWith the same approach, the admin should also be able to install `git` and `sudo`, but those two are already included as dependencies. This already creates inconsistency.\n\n\u003e If the Gerrit admin does not have basic OS skills, then it is way better for him to use Docker instead.\n\u003e \n\u003e Feel free to disagree and explain your benefits with this change.\n\nAs a linux user, I expect the program to be fully operational after installing its package. Also when upgrading I expect the dependency system to tell me that I need to upgrade other packages upfront and not leave my system in a broken state.\n\nThis is what actually happened on my private Gerrit instance. After upgrading to 3.9-rc0 (using the official apt source) the Gerrit was not starting. The only error I\u0027ve seen was that the init script has failed. After some digging in I\u0027ve discovered that the class file versions are not supported (I doubt that most OS admins will know what that even means). This way I learned that I need up upgrade my JVM.\n\nImagine a system that runs multiple services that use JVM eg. Gerrit, Jenkins and Nexus. Installing a new version of Gerrit from DEB package will hide the fact that it also needs a new JVM version. When you learn that after the fact, you either must upgrade all other servers or downgrade the Gerrit version.\n\nThe purpose of the dependency system is to inform admins what\u0027s actually required, prevent colliding versions and prevent breaking the system. This is not the case now for the Gerrit DEB package.\n\n\u003e P.S. Our Deb packages aren\u0027t just for Debian, but for any distribution that accept a .deb package for installation.\n\nIt will work with different systems, it may require a system version upgrade, but this is how things work with versioned systems, that you sometimes need to upgrade the whole system in order to use a newer version of a package.",
      "parentUuid": "01780e52_dc2bf9a7",
      "revId": "867970be8d871942493cdaf413a384567d6bedc1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}